{% extends "base.html" %}
{% load static %}

{% block title %}
  <title>Main page</title>
{% endblock %}

{% block content %}
  <header class="header-2">
      <div
        class="page-header min-vh-75 relative"
        style="background-image: url('../../static/img/background.jpg')"
      >
        <span class="mask bg-gradient-primary opacity-4"></span>
        <div class="container">
          <div class="row">
            <div class="col-lg-7 text-center mx-auto">
              <h1 class="text-white pt-3 mt-n5">Bayraktar Official Restaurant</h1>
              <p class="lead text-white mt-3">
                 
              </p>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
      <section class="pt-3 pb-4" id="count-stats">
        <div class="container">
          <div class="row">
            <div class="col-lg-9 mx-auto py-3">
              <div class="row">
                <div class="col-md-3 position-relative">
                  <div class="p-3 text-center">
                    <h1 class="text-gradient text-primary">
                      <span id="state1" countto="{{ num_dish_types }}">{{ num_dish_types }}</span>
                    </h1>
                    <h5 class="mt-3">Type of dishes</h5>
                    <p class="text-sm font-weight-normal">
                      From first courses to appetizers and desserts.
                    </p>
                  </div>
                  <hr class="vertical dark" />
                </div>

                <div class="col-md-3 position-relative">
                  <div class="p-3 text-center">
                    <h1 class="text-gradient text-primary">
                      <span id="state4" countto="{{ num_dishes }}">{{ num_dishes }}</span>
                    </h1>
                    <h5 class="mt-3">Dishes</h5>
                    <p class="text-sm font-weight-normal">
                      From all over the world.
                    </p>
                  </div>
                  <hr class="vertical dark" />
                </div>
                
                <div class="col-md-3 position-relative">
                  <div class="p-3 text-center">
                    <h1 class="text-gradient text-primary">
                      <span id="state2" countto="{{ num_cooks }}">{{ num_cooks }}</span>
                    </h1>
                    <h5 class="mt-3">Cooks</h5>
                    <p class="text-sm font-weight-normal">
                      Prepare dishes for you.
                    </p>
                  </div>
                  <hr class="vertical dark" />
                </div>
                
                <div class="col-md-3">
                  <div class="p-3 text-center">
                    <h1
                      class="text-gradient text-primary"
                      id="state3"
                      countto="{{ num_visits }}"
                    >
                      {{ num_visits }} 
                    </h1>
                    <h5 class="mt-3">Time{{ num_visits|pluralize }}</h5>
                    <p class="text-sm font-weight-normal">
                      You have visited this page 
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
    <script src="{% static 'countup.min.js' %}"></script>


    <script type="text/javascript">
      if (document.getElementById("state1")) {
        const countUp = new CountUp(
          "state1",
          document.getElementById("state1").getAttribute("countTo")
        );
        if (!countUp.error) {
          countUp.start();
        } else {
          console.error(countUp.error);
        }
      }
      if (document.getElementById("state2")) {
        const countUp1 = new CountUp(
          "state2",
          document.getElementById("state2").getAttribute("countTo")
        );
        if (!countUp1.error) {
          countUp1.start();
        } else {
          console.error(countUp1.error);
        }
      }
      if (document.getElementById("state3")) {
        const countUp2 = new CountUp(
          "state3",
          document.getElementById("state3").getAttribute("countTo")
        );
        if (!countUp2.error) {
          countUp2.start();
        } else {
          console.error(countUp2.error);
        }
      }
      if (document.getElementById("state4")) {
        const countUp2 = new CountUp(
          "state4",
          document.getElementById("state4").getAttribute("countTo")
        );
        if (!countUp2.error) {
          countUp2.start();
        } else {
          console.error(countUp2.error);
        }
      }
    </script>
{% endblock %}
